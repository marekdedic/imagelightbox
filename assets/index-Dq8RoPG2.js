(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=a(i);fetch(i.href,t)}})();function j(e,n,a){const o=`${n}=${a}`;let i=`?${o}`;if(e){const t=new RegExp(`([?&])${n}=[^&]*`);t.exec(e)!==null?i=e.replace(t,`$1${o}`):i=`${e}&${o}`}return i}function z(e){const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(document.location.search);if((n==null?void 0:n[2])!==void 0)return decodeURIComponent(n[2].replace(/\+/g," "))}function K(e,n){let a=e;if(a){const o=new RegExp(`\\?${n}=[^&]*`),i=new RegExp(`&${n}=[^&]*`);a=a.replace(o,"?"),a=a.replace(i,"")}return a}var w=(e=>(e[e.Left=1]="Left",e[e.None=0]="None",e[e.Right=-1]="Right",e))(w||{});function Y(e,n,a){if(z("imageLightboxSet")!==e)return;const o=z("imageLightboxIndex");if(o===void 0)return;let i=n.findIndex(t=>t.dataset.ilb2Id===o);i<0&&(i=parseInt(o,10)),a(i,!0)}function Z(e,n,a,o,i,t,l){const m=e.state;if(!m||Object.keys(m).length===0){t(!0);return}if(m.imageLightboxSet!==n)return;const u=m.imageLightboxIndex;if(u===void 0){t(!0);return}let f=a.findIndex(L=>L.dataset.ilb2Id===u);if(f<0&&(f=parseInt(u,10)),o===null){i(f,!0);return}l(f,f>o?w.Right:w.Left,!0)}function ee(){let e=K(document.location.search,"imageLightboxIndex");e=K(e,"imageLightboxSet"),window.history.pushState({},"",document.location.pathname+e)}function W(e,n,a){const o=a[e].dataset.ilb2Id??e.toString();let i=j(document.location.search,"imageLightboxIndex",o);const t={imageLightboxIndex:o,imageLightboxSet:""};n!==void 0&&(t.imageLightboxSet=n,i=j(i,"imageLightboxSet",n)),window.history.pushState(t,"",document.location.pathname+i)}const g=document.createElement("dialog");g.setAttribute("id","ilb-container");document.body.appendChild(g);let T=null;function te(e,n,a){g.classList.remove("ilb-overlay"),document.body.classList.add("ilb-body"),g.showModal(),n&&(T=o=>{o.stopPropagation(),a()},g.addEventListener("click",T),g.addEventListener("touchend",T)),g.style.transition=`opacity ${e.toString()}ms ease`,setTimeout(()=>{g.style.opacity="1"},50)}function ne(){g.classList.add("ilb-overlay")}function E(){return g}function ie(){T!==null&&(g.removeEventListener("click",T),g.removeEventListener("touchend",T)),g.close(),g.textContent="",document.body.classList.remove("ilb-body")}function oe(){g.style.opacity="0"}const H=document.createElement("div");H.setAttribute("id","ilb-activity-indicator");H.appendChild(document.createElement("div"));function Q(){E().appendChild(H)}function X(){H.remove()}const A=document.createElement("div");A.classList.add("ilb-button","ilb-arrow");A.setAttribute("id","ilb-arrow-left");const q=document.createElement("div");q.classList.add("ilb-button","ilb-arrow");q.setAttribute("id","ilb-arrow-right");let C=null,k=null;function ae(e,n){C=a=>{a.stopPropagation(),e()},k=a=>{a.stopPropagation(),n()},A.addEventListener("click",C),A.addEventListener("touchend",C),q.addEventListener("click",k),q.addEventListener("touchend",k),E().append(A,q)}function re(){A.remove(),C!==null&&(A.removeEventListener("click",C),A.removeEventListener("touchend",C)),k!==null&&(q.removeEventListener("click",k),q.removeEventListener("touchend",k)),C=null,k=null}const x=document.createElement("caption");x.setAttribute("id","ilb-caption");x.textContent="&nbsp;";x.addEventListener("click",e=>{e.stopPropagation()});function le(e,n){e!==""?(E().appendChild(x),x.style.transition=`opacity ${n.toString()}ms ease`,setTimeout(()=>{x.style.opacity="1"},1),x.textContent=e):(x.style.opacity="0",setTimeout(()=>{x.remove()},n))}const M=document.createElement("button");M.classList.add("ilb-button");M.setAttribute("id","ilb-close-button");let D=null;function se(e){D=n=>{n.stopPropagation(),e()},M.addEventListener("click",D),E().appendChild(M)}function de(){D!==null&&M.removeEventListener("click",D),M.remove()}const ce=document.fullscreenEnabled||(document.webkitFullscreenEnabled??!1);function ue(){return document.fullscreenElement??document.webkitFullscreenElement??null}const me=e=>{(e.requestFullscreen||e.webkitRequestFullScreen).call(e)},fe=()=>{(document.exitFullscreen||document.webkitExitFullscreen).call(document)};function ge(){ue()===null?me(E()):fe()}const R=document.createElement("button");R.classList.add("ilb-button");R.setAttribute("id","ilb-fullscreen-button");R.innerHTML="&#x26F6;";R.addEventListener("click",e=>{e.stopPropagation(),ge()});function pe(){E().appendChild(R)}function be(){R.remove()}function ve(e,n,a){let o=0,i=0,t=document.createElement("img");t.addEventListener("error",d=>{E().dispatchEvent(new CustomEvent("ilb:error",{bubbles:!0,detail:{target:d.target}}))}),t.setAttribute("id","ilb-image"),t.setAttribute("src",e.getAttribute("href")??""),t.setAttribute("srcset",e.dataset.ilb2Srcset??""),t.setAttribute("sizes",e.dataset.ilb2Sizes??"");const l=document.createElement("div");l.classList.add("ilb-image-container");let m;const u=e.dataset.ilb2VideoId;let f=e.dataset.ilb2Video!==void 0&&u!==void 0;if(f){const d=a.get(u);d!==void 0?[t,m]=d.element():f=!1}l.appendChild(t);function L(d,p,y,F){if(f){const r=a.get(u);if((r==null?void 0:r.shouldAutoplay())===!0){const[s,c]=r.element();c?s.play():s.autoplay=!0}}else t.addEventListener("click",r=>{if(r.stopPropagation(),n.quitOnImgClick){F();return}(r.pageX-t.offsetLeft)/t.width<=1/3?p():y()});t.addEventListener("touchstart",r=>{o=r.touches[0].pageX,t.style.transitionProperty="opacity"}),t.addEventListener("touchmove",r=>{i=r.touches[0].pageX-o,t.style.left=`${i.toString()}px`}),t.addEventListener("touchend",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",i>50&&p(),i<-50&&y(),t.style.left="0"}),t.addEventListener("touchcancel",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",t.style.left="0"}),d()}function I(d,p){E().appendChild(l);const y=Math.abs(100-n.gutter);t.style.maxHeight=`${y.toString()}%`,t.style.maxWidth=`${y.toString()}%`,t.style.left=`${(-100*d).toString()}px`,t.style.transition=`all ease ${n.animationSpeed.toString()}ms`,setTimeout(p,50)}function N(d,p){t.addEventListener("error",p),m===!0?d():(t.addEventListener("load",d),t.addEventListener("loadedmetadata",d))}function h(d,p,y,F){t.style.left="0",t.style.opacity="1",setTimeout(()=>{L(d,p,y,F)},n.animationSpeed)}function O(d,p){if(d!==w.None){const y=parseInt(t.style.left,10)||0;t.style.left=`${(y+100*d).toString()}px`}t.style.opacity="0",setTimeout(()=>{p()},n.animationSpeed)}function $(){l.remove()}return{addToDOM:I,removeFromDOM:$,startLoading:N,transitionIn:h,transitionOut:O}}let B=null;function he(e,n,a,o){e.enableKeyboard&&(B=i=>{i.key==="Escape"&&(i.preventDefault(),n()),i.key==="ArrowLeft"&&(i.preventDefault(),a()),i.key==="ArrowRight"&&(i.preventDefault(),o())},document.addEventListener("keyup",B))}function ye(){B!==null&&document.removeEventListener("keyup",B)}const S=document.createElement("div");S.classList.add("ilb-navigation");function J(e,n,a,o){for(let i=0;i<e.length;i++){const t=document.createElement("button");t.style.transition=`background-color ${o.toString()}ms ease`;const l=()=>{const m=n();if(t.classList.contains("ilb-navigation-active")||m===null||t.parentNode===null)return;const u=Array.prototype.indexOf.call(t.parentNode.childNodes,t),f=u<m?w.Left:w.Right;a(u,f)};t.addEventListener("click",l),t.addEventListener("touchend",l),S.appendChild(t)}}function Ee(e,n,a,o){S.textContent="",J(e,n,a,o);const i=n();i!==null&&U(i),E().appendChild(S),S.addEventListener("click",t=>{t.stopPropagation()}),S.addEventListener("touchend",t=>{t.stopPropagation()})}function U(e){var n,a;for(let o=0;o<S.children.length;o++)(n=S.children.item(o))==null||n.classList.remove("ilb-navigation-active");(a=S.children.item(e))==null||a.classList.add("ilb-navigation-active")}function Le(e,n){let a=e.dataset.ilb2Id;a??(a=`a${((1+Math.random())*65536|0).toString(16)}`),e.dataset.ilb2VideoId=a;const o=a,i=document.createElement("video");i.setAttribute("id","ilb-image"),i.preload="metadata",i.dataset.ilb2VideoId=o;let t=!1,l=!1;for(const[L,I]of Object.entries(n))switch(L){case"autoplay":l=!0;break;case"controls":case"loop":case"muted":case"poster":case"preload":case"src":i.setAttribute(L,I.toString());break}if(n.sources)for(const L of n.sources){const I=document.createElement("source");for(const[N,h]of Object.entries(L))I.setAttribute(N,h);i.appendChild(I)}i.addEventListener("loadedmetadata",()=>{t=!0});function m(){return o}function u(){return[i,t]}function f(){return l}return{element:u,id:m,shouldAutoplay:f}}function we(){const e=[];function n(o){for(const i of o){const t=i.dataset.ilb2Video;t!==void 0&&e.push(Le(i,JSON.parse(t)))}}function a(o){return e.find(i=>i.id()===o)}return{add:n,get:a}}function xe(e,n,a){const o=[],i=we();let t=null,l=null;function m(){return n}function u(){return o}function f(r,s){if(l===null)return;const c=l;c.transitionOut(r,()=>{c.removeFromDOM(),s==null||s()})}function L(){l==null||l.transitionIn(X,$,d,h)}function I(r){l==null||l.addToDOM(r,()=>{var c;if(t===null)return;const s=o[t];if(e.caption&&le(s.dataset.ilb2Caption??((c=s.getElementsByTagName("img").item(0))==null?void 0:c.alt)??"",e.animationSpeed),L(),e.preloadNext&&t+1<o.length){const P=o[t+1],V=document.createElement("img");V.setAttribute("src",P.getAttribute("href")??""),V.setAttribute("srcset",P.dataset.ilb2Srcset??""),V.setAttribute("sizes",P.dataset.ilb2Sizes??"")}E().dispatchEvent(new Event("ilb:loaded",{bubbles:!0}))})}function N(r,s){const c=ve(o[r],e,i);t=r,l=c,c.startLoading(()=>{I(s)},()=>{X()})}function h(r=!1){t!==null&&(e.activity&&Q(),ye(),e.history&&!r&&ee(),E().dispatchEvent(new Event("ilb:quit",{bubbles:!0})),oe(),f(w.None,()=>{t=null,l=null,re(),de(),be(),ie()}))}function O(r,s,c=!1){t!==null&&(e.history&&!c&&W(r,m(),u()),e.activity&&Q(),U(r),f(s),N(r,s))}function $(){if(t===null)return;let r=t-1;if(t===0){if(e.quitOnEnd){h();return}r=o.length-1}o[r].dispatchEvent(new Event("ilb:previous",{bubbles:!0})),O(r,w.Left)}function d(){if(t===null)return;let r=t+1;if(t===o.length-1){if(e.quitOnEnd){h();return}r=0}o[r].dispatchEvent(new Event("ilb:next",{bubbles:!0})),O(r,w.Right)}function p(r,s=!1){t===null&&(te(e.animationSpeed,e.quitOnDocClick,h),e.activity&&Q(),he(e,h,$,d),e.arrows&&ae($,d),e.button&&se(h),e.fullscreen&&ce&&pe(),e.overlay&&ne(),e.history&&!s&&W(r,m(),u()),o[r].dispatchEvent(new Event("ilb:start",{bubbles:!0})),N(r,w.None),e.navigation&&Ee(u(),()=>t,O,e.animationSpeed))}function y(r){const s=o.indexOf(r);s<0||p(s)}function F(r){const s=r.filter(c=>!o.includes(c)).filter(c=>c.tagName.toLowerCase()==="a"&&(new RegExp(`.(${e.allowedTypes})$`,"i").test(c.href)||c.dataset.ilb2Srcset!==void 0||c.dataset.ilb2Video!==void 0));i.add(s),o.push(...s);for(const c of s)c.addEventListener("click",P=>{P.preventDefault(),P.stopPropagation(),y(c)});J(s,()=>t,O,e.animationSpeed)}return F(a),e.history&&window.addEventListener("popstate",r=>{Z(r,m(),u(),t,p,h,O)}),{addImages:F,close:h,images:u,next:d,open:p,openWithImage:y,previous:$,set:m}}class b{constructor(n,a){const o={activity:!0,allowedTypes:"",animationSpeed:250,arrows:!0,button:!0,caption:!1,enableKeyboard:!0,fullscreen:!0,gutter:10,history:!1,navigation:!1,overlay:!0,preloadNext:!0,quitOnDocClick:!0,quitOnEnd:!0,quitOnImgClick:!1,...a};this.s=xe(o,n.length>0?n[0].dataset.imagelightbox??"":"",Array.from(n)),o.history&&this.openHistory()}addImages(n){this.s.addImages(Array.from(n))}close(){this.s.close()}next(){this.s.next()}open(n){n!==void 0?this.s.openWithImage(n):this.s.open(0)}openHistory(){Y(this.s.set(),this.s.images(),(n,a)=>{this.s.open(n,a)})}previous(){this.s.previous()}}const v=typeof TEST<"u"?TEST:!1;new b(document.querySelectorAll('a[data-imagelightbox="basic"]'),{...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="responsive"]'),{...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="video"]'),{...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="minimal"]'),{activity:!1,arrows:!1,button:!1,fullscreen:!1,overlay:!1,quitOnDocClick:!1,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="caption"]'),{caption:!0,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="navigation"]'),{navigation:!0,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="quit"]'),{quitOnDocClick:!1,quitOnEnd:!1,quitOnImgClick:!0,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="history"]'),{history:!0,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="history-ids"]'),{history:!0,...v&&{animationSpeed:0}});new b(document.querySelectorAll('a[data-imagelightbox="allowedtypes"]'),{allowedTypes:"gif",...v&&{animationSpeed:0}});const Se=new b(document.querySelectorAll('a[data-imagelightbox="trigger"]'),{...v&&{animationSpeed:0}});var _;(_=document.getElementsByClassName("trigger_lightbox").item(0))==null||_.addEventListener("click",()=>{Se.open()});const Ie=new b(document.querySelectorAll('a[data-imagelightbox="dynamic"]'),{...v&&{animationSpeed:0}});var G;(G=document.getElementsByClassName("add_image").item(0))==null||G.addEventListener("click",()=>{const e=document.getElementsByClassName("demo_dynamic").item(0),n=document.createElement("li");e==null||e.appendChild(n);const a=document.createElement("a");a.dataset.imagelightbox="dynamic",a.href="images/demo4.jpg",n.appendChild(a);const o=document.createElement("img");o.src="images/thumb4.jpg",a.appendChild(o),Ie.addImages(document.querySelectorAll('a[data-imagelightbox="dynamic"]'))});new b(document.querySelectorAll('a[data-imagelightbox="events"]'),{...v&&{animationSpeed:0}});document.addEventListener("ilb:start",e=>{console.log("ilb:start"),console.log(e.target)});document.addEventListener("ilb:quit",()=>{console.log("ilb:quit")});document.addEventListener("ilb:loaded",()=>{console.log("ilb:loaded")});document.addEventListener("ilb:previous",e=>{console.log("ilb:previous"),console.log(e.target)});document.addEventListener("ilb:next",e=>{console.log("ilb:next"),console.log(e.target)});document.addEventListener("ilb:error",e=>{console.log("ilb:error"),console.log(e.detail)});
//# sourceMappingURL=index-Dq8RoPG2.js.map
